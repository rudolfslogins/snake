parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"1/sY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MAX_LEVEL=exports.SPEED=exports.CELLS_VERTICAL=exports.CELLS_HORIZONTAL=void 0;var e=80;exports.CELLS_HORIZONTAL=e;var r=40;exports.CELLS_VERTICAL=r;var L=100;exports.SPEED=L;var E=10;exports.MAX_LEVEL=E;
},{}],"9Reo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cell=void 0;var e=function(){return function(e,t){this.x=e,this.y=t}}();exports.Cell=e;
},{}],"tlbA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Grid=void 0;var e=require("./Cell"),t=require("./Configuration"),n=function(){function n(t){this.apples=[new e.Cell(33,22),new e.Cell(35,22),new e.Cell(37,22),new e.Cell(39,22),new e.Cell(41,22)],this.configuration=t}return n.prototype.seed=function(n){for(;this.apples.length<this.configuration.level+this.configuration.apples;){var i=Math.floor(Math.random()*t.CELLS_HORIZONTAL),r=Math.floor(Math.random()*t.CELLS_VERTICAL);!this.apples.find(function(e){return e.x===i&&e.y===r})&&n.getHead().x!==i&&n.getHead().y!==r&&n.getTail().some(function(e){return e.x!==i&&e.y!==r})&&this.apples.push(new e.Cell(i,r))}},n.prototype.isAppleInside=function(e){return null!=this.apples.find(function(t){return t.x===e.x&&t.y===e.y})},n.prototype.removeApple=function(e){var t=this.apples.find(function(t){return t.x===e.x&&t.y===e.y}),n=this.apples.indexOf(t);this.apples.splice(n,1)},n.prototype.isDone=function(){return 0===this.apples.length},n.prototype.getApples=function(){return this.apples},n}();exports.Grid=n;
},{"./Cell":"9Reo","./Configuration":"1/sY"}],"Xu9s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Snake=void 0;var t=require("./Cell"),i=function(){function i(){this.head=new t.Cell(2,0),this.tail=[new t.Cell(0,0),new t.Cell(1,0)],this.direction="Right",this.tailSize=2}return i.prototype.setDirection=function(t){"Right"===this.direction&&"Left"===t?this.direction=this.direction:"Down"===this.direction&&"Up"===t?this.direction=this.direction:"Left"===this.direction&&"Right"===t?this.direction=this.direction:"Up"===this.direction&&"Down"===t?this.direction=this.direction:this.direction=t},i.prototype.move=function(){switch(this.tail.push(this.head),this.tailSize<this.tail.length&&this.tail.shift(),this.direction){case"Right":this.head=new t.Cell(this.head.x+1,this.head.y);break;case"Down":this.head=new t.Cell(this.head.x,this.head.y+1);break;case"Up":this.head=new t.Cell(this.head.x,this.head.y-1);break;case"Left":this.head=new t.Cell(this.head.x-1,this.head.y)}},i.prototype.grow=function(){this.tailSize+=3},i.prototype.getHead=function(){return this.head},i.prototype.isSnake=function(t){var i=!1;return this.tail.forEach(function(e){t.x!==e.x||t.y!==e.y||(i=!0)}),i},i.prototype.getDirection=function(){return this.direction},i.prototype.getTail=function(){return this.tail},i}();exports.Snake=i;
},{"./Cell":"9Reo"}],"BoS/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var t=require("./Grid"),e=require("./Snake"),i=require("./Configuration"),n=function(){function n(i){this.score=0,this.running=!1,this.configuration=i,this.snake=new e.Snake,this.grid=new t.Grid(this.configuration),this.nextTick=0,this.running=!0,this.gameState=""}return n.prototype.getSnake=function(){return this.snake},n.prototype.getConfiguration=function(){return this.configuration},n.prototype.shouldUpdate=function(t){return this.running&&t>=this.nextTick},n.prototype.update=function(t){switch(this.nextTick=t+this.configuration.speed,this.snake.move(),this.checkState()){case-1:this.die();break;case 1:this.snake.grow(),this.score+=100,this.grid.removeApple(this.snake.getHead()),this.grid.isDone()&&this.levelUp()}},n.prototype.checkState=function(){var t=this.snake.getHead();return this.isOutside(t)||this.snake.isSnake(t)?-1:this.grid.isAppleInside(t)?1:0},n.prototype.levelUp=function(){this.score+=1e3,this.configuration.level++,this.configuration.level<i.MAX_LEVEL?(this.configuration.speed-=7,this.grid.seed(this.snake)):this.win()},n.prototype.win=function(){this.stop(),this.gameState="YOU WON!"},n.prototype.die=function(){this.stop(),this.gameState="YOU LOST!"},n.prototype.isOutside=function(t){var e=this.configuration,i=e.nbCellsX,n=e.nbCellsY;return t.x<0||t.x>=i||t.y<0||t.y>=n},n.prototype.getScore=function(){return this.score},n.prototype.getGrid=function(){return this.grid},n.prototype.stop=function(){this.running=!1},n.prototype.getLevel=function(){return this.configuration.level},n.prototype.getGameState=function(){return this.gameState},n}();exports.Game=n;
},{"./Grid":"tlbA","./Snake":"Xu9s","./Configuration":"1/sY"}],"jrQd":[function(require,module,exports) {
"use strict";var e=require("./engine/Configuration"),t=require("./engine/Game"),i=20,a=2,n=function(){function e(e,t){this.canvas=e,this.game=t,requestAnimationFrame(this.draw.bind(this)),window.addEventListener("keydown",this.onKeyDown.bind(this),!1),window.focus()}return e.prototype.draw=function(e){var t=this.canvas.getContext("2d");this.drawGameState(t),this.game.shouldUpdate(e)&&(this.drawBackground(t),this.drawGrid(t),this.drawBrand(t),this.drawScore(t),this.drawLevel(t),this.drawSnake(t),this.drawApples(t),this.game.update(e)),requestAnimationFrame(this.draw.bind(this))},e.prototype.drawBackground=function(e){var t=this.game.getConfiguration(),i=t.width,a=t.height;e.fillStyle="#4caf50",e.fillRect(0,0,i,a)},e.prototype.drawBrand=function(e){var t=this.game.getConfiguration(),i=t.width,a=t.height;e.font=a/2.5+"px Roboto",e.textBaseline="middle",e.textAlign="center",e.fillStyle="rgba(255,255,255,0.75)",e.fillText("CODELEX",i/2,a/2)},e.prototype.drawScore=function(e){e.font=35*a+"px Arial",e.textAlign="left",e.textBaseline="top",e.fillStyle="rgba(255,255,255,0.75)",e.fillText("Score: "+g.getScore().toString(),10*a,10*a)},e.prototype.drawLevel=function(e){e.font=35*a+"px Arial",e.textAlign="left",e.textBaseline="top",e.fillStyle="rgba(255,255,255,0.75)",e.fillText("Level: "+g.getLevel().toString(),10*a,50*a)},e.prototype.drawGameState=function(e){e.font=35*a+"px Arial",e.textAlign="left",e.textBaseline="top",e.fillStyle="#e91e63",e.fillText(g.gameState,10*a,90*a)},e.prototype.drawGrid=function(e){var t=this.game.getConfiguration(),i=t.width,n=t.height,r=t.cellWidth,l=t.cellHeight,o=1*a;e.strokeStyle="rgba(255,255,255,0.95)",e.lineWidth=o;for(var h=0;h<=i;h+=r)e.beginPath(),e.moveTo(h,0),e.lineTo(h,n),e.stroke();for(var g=0;g<=n;g+=l)e.beginPath(),e.moveTo(0,g),e.lineTo(i,g),e.stroke()},e.prototype.drawApples=function(e){var t=g.getConfiguration(),i=t.cellWidth,n=t.cellHeight,r=1*a;e.fillStyle="#e91e63",g.getGrid().getApples().forEach(function(t){return e.fillRect(i*t.x+r,n*t.y+r,i-2*r,n-2*r)})},e.prototype.drawSnake=function(e){var t=this.game.getSnake(),n=this.game.getConfiguration(),r=n.cellWidth,l=n.cellHeight,o=i*a/10,h=i*a/3,g=r*t.getHead().x,c=l*t.getHead().y;switch(e.fillStyle="#111111",e.fillRect(g,c,r,l),t.getDirection()){case"Up":e.beginPath(),e.arc(g+h,c+h,o,0,2*Math.PI,!1),e.arc(g+2*h,c+h,o,0,2*Math.PI,!1),e.fillStyle="white",e.fill();break;case"Down":e.beginPath(),e.arc(g+h,c+2*h,o,0,2*Math.PI,!1),e.arc(g+2*h,c+2*h,o,0,2*Math.PI,!1),e.fillStyle="white",e.fill();break;case"Right":e.beginPath(),e.arc(g+2*h,c+h,o,0,2*Math.PI,!1),e.arc(g+2*h,c+2*h,o,0,2*Math.PI,!1),e.fillStyle="white",e.fill();break;case"Left":e.beginPath(),e.arc(g+h,c+h,o,0,2*Math.PI,!1),e.arc(g+h,c+2*h,o,0,2*Math.PI,!1),e.fillStyle="white",e.fill()}e.fillStyle="#333333",t.getTail().forEach(function(t){return e.fillRect(r*t.x,l*t.y,r,l)})},e.prototype.onKeyDown=function(e){var t=this.game.getSnake();switch(e.key){case"ArrowUp":e.preventDefault(),t.setDirection("Up");break;case"ArrowDown":e.preventDefault(),t.setDirection("Down");break;case"ArrowLeft":e.preventDefault(),t.setDirection("Left");break;case"ArrowRight":e.preventDefault(),t.setDirection("Right")}},e}(),r=function(){var t=document.getElementById("game"),n=document.createElement("Canvas");return t.appendChild(n),n.style.width=e.CELLS_HORIZONTAL*i+"px",n.style.height=e.CELLS_VERTICAL*i+"px",n.width=e.CELLS_HORIZONTAL*i*a,n.height=e.CELLS_VERTICAL*i*a,n},l=function(t){return{level:0,speed:e.SPEED,width:t.width,height:t.height,nbCellsX:e.CELLS_HORIZONTAL,nbCellsY:e.CELLS_VERTICAL,cellWidth:t.width/e.CELLS_HORIZONTAL,cellHeight:t.height/e.CELLS_VERTICAL,apples:5}},o=r(),h=l(o),g=new t.Game(h);new n(o,g);
},{"./engine/Configuration":"1/sY","./engine/Game":"BoS/"}]},{},["jrQd"], null)
//# sourceMappingURL=/GameUI.e3d48a0d.js.map